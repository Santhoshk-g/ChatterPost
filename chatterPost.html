<template>
  <lightning-card>
      <div class="slds-page-header">
          <div class="slds-page-header__row">
            <div class="slds-page-header__col-title">
              <div class="slds-media">
                <div class="slds-media__figure">
                  <span title="opportunity">
                    
                      <lightning-icon icon-name="standard:post" alternative-text="Preview" title="Preview"></lightning-icon>
                      
                    <span class="slds-assistive-text"></span>
                  </span>
                </div>
                <div class="slds-media__body">
                  <div class="slds-page-header__name">
                    <div class="slds-page-header__name-title">
                      <h1>
                        <span class="slds-page-header__title slds-truncate" title="Rohde Corp - 80,000 Widgets">Chatter Posts</span>
                      </h1>
                    </div>
                  </div>
                  <!--<p class="slds-page-header__name-meta">From 2022-12-01 to Till Date</p>-->
                </div>
              </div>
            </div>
            
           
           
           <lightning-button label="Download" title="Download action" variant="brand" icon-name="utility:download" onclick={DownloadData} icon-position="right" class="slds-m-left_x-small"></lightning-button>
&nbsp;&nbsp;
           <lightning-button-icon icon-name="utility:filterList" variant="brand" onclick={showtemplate} class="slds-m-left_x-medium" title="Filters"></lightning-button-icon>              
              <span class="slds-assistive-text">Filters</span>
            
          </div>
        </div>
        
      <lightning-datatable
                        key-field="createdbyId"
                        data={data}
                        columns={columns}
                        onrowaction={handleRowAction}
                        show-row-number-column
                        hide-checkbox-column></lightning-datatable>
                        <div class="slds-text-color_destructive" style="margin-left: 3%">
                          <b>{error}</b>
                      </div>
                        
    <template if:true={loaded}>
            <lightning-spinner alternative-text="Loading"></lightning-spinner>
     </template>                   
                        
  </lightning-card>
  <template if:true={isfilter} >

    <!--
        I Used SLDS for this code
        Here is link https://www.lightningdesignsystem.com/components/modals/
    --> 

<section role="dialog"  class="slds-modal slds-fade-in-open">
<div class="slds-modal__container">
<button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={hideModalBox}>
  <lightning-icon icon-name="utility:close"
                  alternative-text="close"
                  variant="inverse"
                  size="small" ></lightning-icon>
  <span class="slds-assistive-text">Close</span>
</button>

  <!-- modal body start -->
  <lightning-card title="Filters" >
    <div style="margin-left: 3%">
    <lightning-radio-group  label="Business"
                               options={Businessvalue}
                               value={Bvalue}
                               required="true"
                               onchange={handleBusiness}></lightning-radio-group>
                             
  <lightning-radio-group  label="Region"
                             options={Regionvalue}
                             value={Rvalue}
                             onchange={handleRegion}></lightning-radio-group>
                              
                         
                                                          
  
  <lightning-radio-group  label="Date"
                            options={Datevalue}
                            value={Dvalue}
                            onchange={handleDate}></lightning-radio-group>
                          </div>
  <template if:true={ShowDate}>
  <lightning-input label="From Date" 
                                 type="date"
                                 value={fdate}
                                 class="slds-var-m-around_medium"
                                 required = "true"
                                 onchange={fromDateChange}>
                                 </lightning-input>
                <lightning-input label="To Date" 
                                 type="date"
                                 class="slds-var-m-around_medium"
                                 required = "true"
                                 value={tdate}
                                 onchange={toDateChange}>
                                 </lightning-input>
                                </template>

  <!-- modal footer start-->
  &nbsp;&nbsp;
  <footer class="slds-modal__footer">
    <button class="slds-button slds-button_brand" onclick={Applyfilter}>Apply</button>
    
  </footer>
</lightning-card>
</div>
</section>
<div class="slds-backdrop slds-backdrop_open"></div>

</template>
  
</template>
